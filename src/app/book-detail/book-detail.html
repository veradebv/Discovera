<button (click)="goBack()">← Back to Discover</button>
@if (book) {
    <h2>{{ book.title }}</h2>
    <p> {{ book.author }}</p>
    <p> ⭐ {{ book.rating }}</p>

    <h3>Reading Status</h3>
    <p>Current: {{ book.status }}</p>

    <button (click)="setStatus('want-to-read')">Want to Read</button>
    <button (click)="setStatus('reading')">Reading</button>
    <button (click)="setStatus('read')">Read</button>

    <hr />

    <h3>Reviews</h3>

    <textarea
    [(ngModel)]="newReview"
    placeholder="Write your review..."
    rows="3"
  ></textarea>
  <button (click)="addReview()">Submit Review</button>

  @if (book.reviews.length) {
    <ul>
      @for (review of book.reviews; track review.createdAt) {
        <li>
          {{ review.text }}
          <br/>
          <small>{{ review.createdAt | date: 'short' }}</small>
        </li>
      }
    </ul>
  } @else {
    <p>No reviews yet.</p>
  }
} @else {
    <p>Book not found.</p>
}
